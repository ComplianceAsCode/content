---
name: Qlty Checks
on:
    pull_request:
        branches: [master, stabilization*, oscal-update-*]
concurrency:
    group: ${{ github.workflow }}-qlty-${{ github.event.number || github.run_id }}
    cancel-in-progress: true
jobs:
    qlty-check:
        name: Qlty Check
        runs-on: ubuntu-latest
        steps:
            - name: Install Qlty
              run: curl https://qlty.sh | sh
            - name: Checkout Repo
              uses: actions/checkout@692973e3d937129bcbf40652eb9f2f61becf3332 # v4
              with:
                  fetch-depth: 0
            - name: Run Qlty Check
              run: ~/.qlty/bin/qlty check --no-fix
            - name: Run ruff
              uses: astral-sh/ruff-action@0c50076f12c38c3d0115b7b519b54a91cb9cf0ad
