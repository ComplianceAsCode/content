# platform = multi_platform_sle
# reboot = false
# strategy = enable
# complexity = low
# disruption = low

- name: Set smartcard packages fact
  ansible.builtin.set_fact:
    smartcard_packages:
      - pam_pkcs11
      - mozilla-nss
      - mozilla-nss-tools
      - pcsc-ccid
      - pcsc-lite
      - pcsc-tools
      - opensc
      - coolkey

- name: Ensure {{ smartcard_packages }} are installed
  ansible.builtin.package:
    name: "{{ smartcard_packages }}"
    state: present
